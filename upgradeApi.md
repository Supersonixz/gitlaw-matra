‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡∏ó‡∏≤‡∏á‡∏™‡∏≤‡∏¢ Google Gemini API ‡πÄ‡∏ï‡πá‡∏°‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡πâ‡∏ß (‡∏ã‡∏∂‡πà‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡πÄ‡∏ß‡∏¥‡∏£‡πå‡∏Ñ‡∏°‡∏≤‡∏Å) ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ Gemini 1.5 Pro (‡∏£‡∏∏‡πà‡∏ô‡∏â‡∏•‡∏≤‡∏î) ‡∏°‡∏≤‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡∏ô GLM-4.7 (‡∏Ç‡∏≠‡∏á z.ai) ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì "‡∏ï‡∏±‡∏î z.ai ‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏î‡πâ" ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ:

1. Google ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏ü‡∏£‡∏µ (‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡πÄ‡∏¢‡∏≠‡∏∞‡∏°‡∏≤‡∏Å)
Google AI Studio ‡πÉ‡∏´‡πâ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡∏ü‡∏£‡∏µ (Free Tier) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Gemini 1.5 Pro:

2 Requests / ‡∏ô‡∏≤‡∏ó‡∏µ (RPM): ‡∏î‡∏π‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ô‡πâ‡∏≠‡∏¢ ‡πÅ‡∏ï‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô Script ‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô (Background Job) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢ ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏Ñ‡πà‡πÉ‡∏™‡πà time.sleep(30) ‡∏Ñ‡∏±‡πà‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏≤ ‡∏Å‡πá‡∏£‡∏±‡∏ô‡∏ü‡∏£‡∏µ‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ ‡∏Ñ‡∏£‡∏±‡∏ö

50 Requests / ‡∏ß‡∏±‡∏ô: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏´‡∏°‡∏ß‡∏î (18 ‡∏´‡∏°‡∏ß‡∏î x 7 ‡∏â‡∏ö‡∏±‡∏ö = ~126 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á) ‡∏Ñ‡∏∏‡∏ì‡∏£‡∏±‡∏ô 2-3 ‡∏ß‡∏±‡∏ô‡∏Å‡πá‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏±‡∏Å‡∏ö‡∏≤‡∏ó

2. Gemini 1.5 Pro "‡∏â‡∏•‡∏≤‡∏î‡∏û‡∏≠" ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏™‡∏£‡∏∏‡∏õ
GLM-4.7 ‡πÄ‡∏Å‡πà‡∏á‡∏à‡∏£‡∏¥‡∏á‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏ï‡πà Gemini 1.5 Pro ‡∏Å‡πá‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡πá‡∏≠‡∏õ (Frontier Class) ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏á‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏≤‡∏Å ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ñ‡∏∑‡∏≠‡∏°‡∏±‡∏ô "Context Window ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏°‡∏≤‡∏Å" (2 ‡∏•‡πâ‡∏≤‡∏ô tokens)

‡∏Ç‡πâ‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö: ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏¢‡∏ô "‡∏£‡∏±‡∏ê‡∏ò‡∏£‡∏£‡∏°‡∏ô‡∏π‡∏ç‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏•‡πà‡∏°" (‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö 2 ‡πÄ‡∏•‡πà‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô) ‡πÉ‡∏´‡πâ Gemini 1.5 Pro ‡∏≠‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≤‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡πÇ‡∏î‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏≠‡∏á‡∏°‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏ö‡∏•‡∏≠ (GLM-4 ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏£‡∏±‡∏ö Input ‡∏¢‡∏≤‡∏ß‡∏Ç‡∏ô‡∏≤‡∏î‡∏ô‡∏±‡πâ‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏µ‡πâ)

3. Stack ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏î‡∏π‡πÅ‡∏•‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤ (Unified Stack)
‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Google ‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏±‡πâ‡∏á OCR (‡∏ï‡∏≤) ‡πÅ‡∏•‡∏∞ Summarizer (‡∏™‡∏°‡∏≠‡∏á) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ API Key ‡∏´‡∏•‡∏≤‡∏¢‡πÄ‡∏à‡πâ‡∏≤ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏ß‡∏î‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á Billing ‡∏´‡∏•‡∏≤‡∏¢‡∏ó‡∏µ‡πà

üõ†Ô∏è ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ Code ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏î z.ai ‡∏≠‡∏≠‡∏Å‡∏ñ‡∏≤‡∏ß‡∏£
‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏Ñ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå agents.py ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å zhipuai ‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏Å google.generativeai (‡∏£‡∏∏‡πà‡∏ô 1.5 Pro) ‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö

‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå agents.py ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö:

Python

import logging
import time
import google.generativeai as genai
from config import GOOGLE_API_KEY, CATEGORIES

# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Google API (‡πÉ‡∏ä‡πâ Key ‡πÄ‡∏î‡∏¥‡∏°‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏≠‡πà‡∏≤‡∏ô PDF)
if not GOOGLE_API_KEY:
    logging.warning("GOOGLE_API_KEY is not set.")
else:
    genai.configure(api_key=GOOGLE_API_KEY)

class AgentSummarizer:
    def __init__(self):
        # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡πÉ‡∏ä‡πâ Gemini 1.5 Pro (‡∏ï‡∏±‡∏ß‡∏â‡∏•‡∏≤‡∏î) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î
        self.model = genai.GenerativeModel('gemini-1.5-pro')

    def run(self, combined_text):
        system_prompt = """Role: Political Science Professor (Specialist in Thai Constitutions).
Task: Summarize the key essence of the provided sections.
Target Audience: General public who wants to understand "Who holds the power?".

Guidelines:
1. Summarize in Thai language.
2. Focus on: Who has authority? What are the limitations?
3. Use neutral but sharp academic tone.
4. Keep it under 3-4 sentences.
5. If comparing changes, highlight what is new or removed.
"""
        try:
            # ‡∏¢‡∏¥‡∏á Prompt
            response = self.model.generate_content(
                f"{system_prompt}\n\nContent to analyze:\n{combined_text}"
            )
            return response.text
        except Exception as e:
            logging.error(f"Gemini Summarize Error: {e}")
            return "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡∏∏‡∏õ‡πÑ‡∏î‡πâ (AI Error)"

# ‡∏•‡∏ö Class ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏¥‡πâ‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ (AgentCleaner, AgentClassifier)
# ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏£‡∏≤‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ‡∏ó‡∏≥‡πÉ‡∏ô main pipeline ‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß